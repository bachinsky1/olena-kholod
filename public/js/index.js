/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e={866:(e,t,n)=>{n.r(t),n.d(t,{BrowserHistoryEngine:()=>y,compose:()=>L,createRouter:()=>k,pipe:()=>R});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,c)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var a=function e(t,n,r){return t instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(t,n):Array.isArray(t)?function(t,n,r){for(var o=[],i=0;i<t.length;i++)o.push(e(t[i],n,r).source);return new RegExp("(?:"+o.join("|")+")",v(r))}(t,n,r):function(e,t,n){return w(d(e,n),t,n)}(t,n,r)},c=d,u=p,s=w,l="/",f=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function d(e,t){for(var n,r=[],o=0,i=0,a="",c=t&&t.delimiter||l,u=t&&t.whitelist||void 0,s=!1;null!==(n=f.exec(e));){var d=n[0],p=n[1],v=n.index;if(a+=e.slice(i,v),i=v+d.length,p)a+=p[1],s=!0;else{var w="",m=n[2],y=n[3],b=n[4],x=n[5];if(!s&&a.length){var E=a.length-1,k=a[E];(!u||u.indexOf(k)>-1)&&(w=k,a=a.slice(0,E))}a&&(r.push(a),a="",s=!1);var L="+"===x||"*"===x,C="?"===x||"*"===x,R=y||b,A=w||c;r.push({name:m||o++,prefix:w,delimiter:A,optional:C,repeat:L,pattern:R?g(R):"[^"+h(A===c?A:A+c)+"]+?"})}}return(a||i<e.length)&&r.push(a+e.substr(i)),r}function p(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",v(t)));return function(t,r){for(var o="",i=r&&r.encode||encodeURIComponent,a=!r||!1!==r.validate,c=0;c<e.length;c++){var u=e[c];if("string"!=typeof u){var s,l=t?t[u.name]:void 0;if(Array.isArray(l)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but got array');if(0===l.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<l.length;f++){if(s=i(l[f],u),a&&!n[c].test(s))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');o+=(0===f?u.prefix:u.delimiter)+s}}else if("string"!=typeof l&&"number"!=typeof l&&"boolean"!=typeof l){if(!u.optional)throw new TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"))}else{if(s=i(String(l),u),a&&!n[c].test(s))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+s+'"');o+=u.prefix+s}}else o+=u}return o}}function h(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function g(e){return e.replace(/([=!:$/()])/g,"\\$1")}function v(e){return e&&e.sensitive?"":"i"}function w(e,t,n){for(var r=(n=n||{}).strict,o=!1!==n.start,i=!1!==n.end,a=n.delimiter||l,c=[].concat(n.endsWith||[]).map(h).concat("$").join("|"),u=o?"^":"",s=0;s<e.length;s++){var f=e[s];if("string"==typeof f)u+=h(f);else{var d=f.repeat?"(?:"+f.pattern+")(?:"+h(f.delimiter)+"(?:"+f.pattern+"))*":f.pattern;t&&t.push(f),f.optional?f.prefix?u+="(?:"+h(f.prefix)+"("+d+"))?":u+="("+d+")?":u+=h(f.prefix)+"("+d+")"}}if(i)r||(u+="(?:"+h(a)+")?"),u+="$"===c?"$":"(?="+c+")";else{var p=e[e.length-1],g="string"==typeof p?p[p.length-1]===a:void 0===p;r||(u+="(?:"+h(a)+"(?="+c+"))?"),g||(u+="(?="+h(a)+"|"+c+")")}return new RegExp(u,v(n))}a.parse=c,a.compile=function(e,t){return p(d(e,t),t)},a.tokensToFunction=u,a.tokensToRegExp=s;var m={bindClick:!0},y=function(e){return void 0===e&&(e={}),function(){var t,n=r(r({},m),e),a=[],c=[],u=null,s=function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,a.reduce((function(t,n){return t.then((function(){return n(e)}))}),Promise.resolve())];case 1:return t.sent(),[2]}}))}))},l=function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,c.reduce((function(t,n){return t.then((function(){return n(e)}))}),Promise.resolve())];case 1:return t.sent(),[2]}}))}))},f=function(e){for(var n=e.target;n&&"A"!==n.nodeName.toUpperCase();)n=n.parentNode;if(n&&"A"===n.nodeName.toUpperCase()){if(n.hasAttribute("data-routerjs-ignore")||n.hasAttribute("download")||n.hasAttribute("target")||"external"===n.getAttribute("rel"))return;var r=n.getAttribute("href");if(r&&(function(e){return new URL(e,window.location.origin).origin!==window.location.origin}(r)||0===r.indexOf("mailto:")||0===r.indexOf("tel:")))return;e.preventDefault(),t.navigate(n.pathname)}},d=function(e){return o(void 0,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=window.location.pathname,null===u?[3,2]:[4,l(u)];case 1:t.sent(),t.label=2;case 2:return u=e,[4,s(e)];case 3:return t.sent(),[2]}}))}))};return t={setup:function(){window.addEventListener("popstate",d),n.bindClick&&window.addEventListener("click",f)},teardown:function(){window.removeEventListener("popstate",d),window.removeEventListener("click",f)},addRouteChangeHandler:function(e){a.push(e)},addRouteExitHandler:function(e){c.push(e)},navigate:function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return""+window.location.pathname+window.location.search===e?[3,4]:null===u?[3,2]:[4,l(u)];case 1:t.sent(),t.label=2;case 2:return u=e,window.history.pushState({},"",e),[4,s(e)];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},back:function(){window.history.back()},forward:function(){window.history.forward()},go:function(e){window.history.go(e)},setLocation:function(e){window.location.pathname!==e&&window.history.pushState({},"",e)},run:function(e){var t=""+window.location.pathname+window.location.search,n=e||t;t!==n&&window.history.pushState({},"",n),s(n)}}}},b=/\/*$/,x=function(e){var t=function(n,a,c){return o(void 0,void 0,void 0,(function(){var o,u,s,l,f,d,p,h;return i(this,(function(i){switch(i.label){case 0:if(!(n.length>0))return[3,2];if(o=n[0],u={},s=[],l=c.split("?")[0],f=l.match(o.path)){for(d=0,d=0;d<o.paramNames.length;d++)u[o.paramNames[d].name]=f[d+1];if(d<f.length)for(p=d;p<f.length;p++)s.push(f[p])}return h=function(e){var t=e.path,n=e.params,o=e.splats,i=t.split("?"),a=(i[0],(i[1]||"").split("&").reduce((function(e,t){var n,o=t.split("="),i=o[0],a=o[1];return i?r(r({},e),((n={})[decodeURIComponent(i)]=decodeURIComponent(a),n)):e}),{})),c=!1,u={get:function(e,t){return u.params&&void 0!==u.params[e]?u.params[e]:u.query&&e in u.query?u.query[e]:void 0!==t?t:void 0},path:t,params:n,splats:o,query:a,stop:function(){c=!0},isStopped:function(){return c}};return u}({path:c,params:u,splats:s}),[4,o.callback(h,e)];case 1:if(i.sent(),!h.isStopped()&&n.length>1)return[2,t(n.slice(1),a,c)];i.label=2;case 2:return a.length>0?[4,a[0](e)]:[3,4];case 3:if(i.sent(),a.length>1)return[2,t([],a.slice(1),c)];i.label=4;case 4:return[2,Promise.resolve()]}}))}))};return t},E={ignoreCase:!1,basePath:"/",engine:y()},k=function(e){var t={routes:[],exits:[]},n=[],c=new Map,u=r(r({},E),e),s=u.engine(),l=u.basePath.replace(b,""),f=new RegExp("^"+l);c.set(500,[function(e,t){console&&console.error&&(console.error('500 - path: "'+t.path+'"'),console.error(e))}]),c.set(404,[function(e,t){console&&console.warn&&(console.warn('404 - path: "'+t.path+'"'),console.warn(e))}]);var d=function(e){return function(t){var n=t.statusCode,r=void 0===n?500:n,o=c.get(r),i=c.get("*");if(!o&&!i)throw t;o&&o.length>0&&o.forEach((function(n){n(t,e)})),i&&i.length>0&&i.forEach((function(n){n(t,e)}))}},p=function(e){return function(r){return o(void 0,void 0,void 0,(function(){var o,a,c,u,s,l,p,h,g;return i(this,(function(i){switch(i.label){case 0:for(o=t[e],a=[],c=""===(c=r.replace(f,""))?"/":c,u=""===(u=(u=r.split("?")[0]).replace(f,""))?"/":u,s=0,l=o.length;s<l;s++)o[s].path.test(u)&&a.push(s);return p=function(e){var t={path:e,set:function(e,n){t[e]=n}};return t}(c),"routes"!==e||0!==a.length?[3,1]:((h=new Error('Path "'+c+'" not matched')).statusCode=404,d(p)(h),[3,4]);case 1:return i.trys.push([1,3,,4]),[4,x(p)(a.map((function(e){return o[e]})),n,c)];case 2:return i.sent(),[3,4];case 3:return g=i.sent(),d(p)(g),[3,4];case 4:return[2]}}))}))}};s.setup(),s.addRouteChangeHandler(p("routes")),s.addRouteExitHandler(p("exits"));var h=function(e){return function(n,r){if(!r)throw new Error('Missing callback for path "'+n+'"');var o=t[e],i=[],c=a(n,i,{sensitive:!u.ignoreCase,strict:!1});o.push({url:n,path:c,paramNames:i,callback:r})}},g={get:function(e,t){return h("routes")(e,t),g},exit:function(e,t){return h("exits")(e,t),g},always:function(e){if(!e)throw new Error('A callback is mandatory when defining an "always" callback!');return n.push(e),g},error:function(e,t){return c.set(e,function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}(c.get(e)||[],[t])),g},run:function(e){return s.run(e),g},teardown:function(){return s.teardown(),g},navigate:s.navigate,go:s.go,back:s.back,forward:s.forward,setLocation:s.setLocation,buildUrl:function(e){return""+l+e},getOptions:function(){return r(r({},u),{basePath:l,engine:void 0})},_getOptions:function(){return console.warn("@deprecated _getOptions is deprecated, use getOptions instead"),g.getOptions()},_showRoutes:function(){console.log(t)}};return g};function L(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return e}:1===e.length?e[0]:e.reduce((function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(void 0,n))}}))}var C=function(){},R=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return L.apply(void 0,e)(C)}},830:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=(0,n(866).createRouter)();function i(e){return r(this,void 0,void 0,(function*(){e=window.location.origin+e;const t=yield fetch(e);return t.ok?yield t.json():(console.log("HTTP error: "+t.status),[])}))}function a(e){const t=window.location.origin+e;history.pushState(null,"",t),o.run()}function c(e){if(0===e.categories.length)return;const t=document.getElementById("categoriesContainer"),n=document.getElementById("goodsContainer");if(null===n||null===t)return;const r=document.createElement("div");r.classList.add("list-group");for(const t of e.categories){const e=document.createElement("a");e.setAttribute("href","#"),e.classList.add("list-group-item","list-group-item-action"),e.innerHTML=t.name+` (${t.count})`,e.dataset.category_id=t.id.toString(),e.addEventListener("click",(e=>{e.target instanceof HTMLAnchorElement&&a(`/categories/${e.target.dataset.category_id}`)})),r.appendChild(e)}t.innerHTML="",t.appendChild(r),n.classList.add("card-group"),n.innerHTML="";for(const t of e.active){const e=document.createElement("div");e.classList.add("card"),e.setAttribute("style","width: 18rem;"),e.innerHTML=`\n            <div class="card-body">\n                <h5 class="card-title">${t.name}</h5>\n                <p class="card-text">${t.description}</p>\n                <p class="card-text">${t.price.toFixed(2)}</p>\n                <p class="card-text"><small class="text-muted">Last updated ${t.date}</small></p>\n            </div>\n        `,null==n||n.appendChild(e)}}o.get("/categories",(()=>r(void 0,void 0,void 0,(function*(){const e=yield i("api/categories");c(e),console.log(e)})))),o.get("/categories/:id",((e,t)=>r(void 0,void 0,void 0,(function*(){const t=e.params.id.toString();c(yield i(`/api/categories/${t}`))})))),o.get("/",(()=>r(void 0,void 0,void 0,(function*(){c(yield i("/api/categories"))})))),o.run()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(830)})();